version: 2.1

orbs: 
  docker: circleci/docker@2.0.3
  ggshield: gitguardian/ggshield@1.1.0

workflows:
  build-and-publish:
    jobs:
      - docker/publish:
          name: Build and Publish to Docker Hub
          image: thinxcloud/mosquitto
          tag: latest
          context:
            - dockerhub